Importing    KratosShapeOptimizationApplication 
    KRATOS   __| |  |   \   _ \ __|
           \__ \ __ |  _ \  __/ _|
           ____/_| _|_/  _\_|  ___| OPTIMIZATION
Initializing KratosShapeOptimizationApplication...
Importing    KratosStructuralMechanicsApplication 
    KRATOS   ___|  |                   |                   |
           \___ \  __|  __| |   |  __| __| |   |  __| _` | |
                 | |   |    |   | (    |   |   | |   (   | |
           _____/ \__|_|   \__,_|\___|\__|\__,_|_|  \__,_|_| MECHANICS
Initializing KratosStructuralMechanicsApplication...
Importing    KratosConvectionDiffusionApplication 
 KRATOS ___ ___  _  ___   __   ___ ___ ___ ___ 
       / __/ _ || || | | / /__|   |_ _| __| __|
      | (_| (_) | .` || V /___| |) | || _|| _| 
       |___|___/|_||_| |_/    |___/___|_| |_|  APPLICATION
 
=============================================================================== 
ShapeOpt: Tue May 19 09:18:46 2020 : Starting optimization using the following algorithm:  penalized_projection 
===============================================================================
 
ModelPartIO:   [Reading Nodes    : 1861 nodes read]
ModelPartIO:   [Reading Elements : 3418 elements read] [Type: ShellThinElement3D3N]
ModelPartIO:   [Reading Conditions : 1 conditions read] [Type: PointLoadCondition3D1N]
ModelPartIO:   [Reading Conditions : 3418 conditions read] [Type: SurfaceCondition3D3N]
ModelPartIO:   [Total Lines Read : 19690]
 
ShapeOpt: The following design surface was defined:

 -design_surface- model part
    Number of tables : 0
    Number of sub model parts : 0

    Number of Geometries  : 0
    Mesh 0 :
        Number of Nodes       : 1861
        Number of Properties  : 0
        Number of Elements    : 0
        Number of Conditions  : 3418
        Number of Constraints : 0

 
Read materials: Started
[WARNING] ReadMaterialsUtility: WARNING:: The properties ID: 0 in mesh ID: 0 is already defined. This will overwrite the existing values
Read materials: Finished
ShapeOpt: Starting initialization of mapper...
ShapeOpt: Finished initialization of mapper in 0.0428533 s.
 
ShapeOpt: The following objectives are defined:
 
Parameters Object {
    "analyzer": "kratos",
    "combination_type": "sum",
    "combined_responses": [],
    "identifier": "mass",
    "is_combined": false,
    "project_gradient_on_surface_normals": true,
    "response_settings": {
        "gradient_mode": "finite_differencing",
        "material_import_settings": {
            "materials_filename": "materials.json"
        },
        "model_import_settings": {
            "input_type": "use_input_model_part"
        },
        "model_part_name": "3D_Shell",
        "response_type": "mass",
        "step_size": 1e-06
    },
    "scaling_factor": 1.0,
    "type": "minimization",
    "weight": 1.0
}
 
ShapeOpt: The following constraints are defined:
 
Parameters Object {
    "analyzer": "external",
    "identifier": "distance",
    "project_gradient_on_surface_normals": true,
    "reference": "specified_value",
    "reference_value": 0,
    "response_settings": {},
    "scaling_factor": 1.0,
    "type": "="
}
 
 
 
=============================================================================== 
ShapeOpt: Tue May 19 09:18:46 2020 : Starting optimization iteration  1 
===============================================================================
 
 
ShapeOpt: Starting to update the mesh 
ShapeOpt: Time needed for updating the mesh =  0.0 s 
MassResponse: Starting primal analysis for response mass 
MassResponse: Time needed for calculating the response value =  0.0 s 
MassResponse: Starting gradient calculation for response mass 
FindNodalNeighboursProcess: please call separetely FindGlobalNodalNeighboursProcess 
        and FindGlobalNodalElementalNeighboursProcess. 
        The two calculations are currently independent,
            hence memory savings can be achieved
MassResponse: Time needed for calculating gradients 0.08 s 
ShapeOpt: Starting to update mapper...
ShapeOpt: Finished updating of mapper in 0.0331741 s.

ShapeOpt: Starting inverse mapping of DF1DX...
ShapeOpt: Finished mapping in 0.00137355 s.

ShapeOpt: Starting inverse mapping of DC1DX...
ShapeOpt: Finished mapping in 0.00107748 s.

ShapeOpt: Constraint is active. Modified search direction on the constraint hyperplane is computed...

ShapeOpt: Starting mapping of CONTROL_POINT_UPDATE...
ShapeOpt: Finished mapping in 0.00123126 s.
 
ShapeOpt: Current value of objective =   2.46597E+06 
ShapeOpt: Absolut change of objective =   0.00000E+00  [%] 
ShapeOpt: Relative change of objective =   0.00000E+00  [%]
 
ShapeOpt: Value of C1 =   0.00000E+00 
 
ShapeOpt: Time needed for current optimization step =  0.24 s 
ShapeOpt: Time needed for total optimization so far =  0.24 s 
 
=============================================================================== 
ShapeOpt: Tue May 19 09:18:47 2020 : Starting optimization iteration  2 
===============================================================================
 
 
ShapeOpt: Starting to update the mesh 
ShapeOpt: Time needed for updating the mesh =  0.0 s 
MassResponse: Starting primal analysis for response mass 
MassResponse: Time needed for calculating the response value =  0.0 s 
MassResponse: Starting gradient calculation for response mass 
FindNodalNeighboursProcess: please call separetely FindGlobalNodalNeighboursProcess 
        and FindGlobalNodalElementalNeighboursProcess. 
        The two calculations are currently independent,
            hence memory savings can be achieved
MassResponse: Time needed for calculating gradients 0.08 s 
ShapeOpt: Starting to update mapper...
ShapeOpt: Finished updating of mapper in 0.0325679 s.

ShapeOpt: Starting inverse mapping of DF1DX...
ShapeOpt: Finished mapping in 0.00170506 s.

ShapeOpt: Starting inverse mapping of DC1DX...
ShapeOpt: Finished mapping in 0.00136609 s.

ShapeOpt: Constraint is active. Modified search direction on the constraint hyperplane is computed...

ShapeOpt: Starting mapping of CONTROL_POINT_UPDATE...
ShapeOpt: Finished mapping in 0.00132595 s.
 
ShapeOpt: Current value of objective =   2.38314E+06 
ShapeOpt: Absolut change of objective =  -3.35869E+00  [%] 
ShapeOpt: Relative change of objective =  -3.35869E+00  [%]
 
ShapeOpt: Value of C1 =   1.76535E-01 
 
ShapeOpt: Time needed for current optimization step =  0.221 s 
ShapeOpt: Time needed for total optimization so far =  0.461 s 
 
=============================================================================== 
ShapeOpt: Tue May 19 09:18:47 2020 : Starting optimization iteration  3 
===============================================================================
 
 
ShapeOpt: Starting to update the mesh 
ShapeOpt: Time needed for updating the mesh =  0.0 s 
MassResponse: Starting primal analysis for response mass 
MassResponse: Time needed for calculating the response value =  0.0 s 
MassResponse: Starting gradient calculation for response mass 
FindNodalNeighboursProcess: please call separetely FindGlobalNodalNeighboursProcess 
        and FindGlobalNodalElementalNeighboursProcess. 
        The two calculations are currently independent,
            hence memory savings can be achieved
MassResponse: Time needed for calculating gradients 0.07 s 
ShapeOpt: Starting to update mapper...
ShapeOpt: Finished updating of mapper in 0.0335855 s.

ShapeOpt: Starting inverse mapping of DF1DX...
ShapeOpt: Finished mapping in 0.00149395 s.

ShapeOpt: Starting inverse mapping of DC1DX...
ShapeOpt: Finished mapping in 0.00102524 s.

ShapeOpt: Constraint is active. Modified search direction on the constraint hyperplane is computed...

ShapeOpt: Starting mapping of CONTROL_POINT_UPDATE...
ShapeOpt: Finished mapping in 0.00136871 s.
 
ShapeOpt: Current value of objective =   2.34934E+06 
ShapeOpt: Absolut change of objective =  -4.72945E+00  [%] 
ShapeOpt: Relative change of objective =  -1.37076E+00  [%]
 
ShapeOpt: Value of C1 =   8.32862E-02 
 
ShapeOpt: Time needed for current optimization step =  0.215 s 
ShapeOpt: Time needed for total optimization so far =  0.676 s 
 
=============================================================================== 
ShapeOpt: Tue May 19 09:18:47 2020 : Starting optimization iteration  4 
===============================================================================
 
 
ShapeOpt: Starting to update the mesh 
ShapeOpt: Time needed for updating the mesh =  0.0 s 
MassResponse: Starting primal analysis for response mass 
MassResponse: Time needed for calculating the response value =  0.0 s 
MassResponse: Starting gradient calculation for response mass 
FindNodalNeighboursProcess: please call separetely FindGlobalNodalNeighboursProcess 
        and FindGlobalNodalElementalNeighboursProcess. 
        The two calculations are currently independent,
            hence memory savings can be achieved
MassResponse: Time needed for calculating gradients 0.08 s 
ShapeOpt: Starting to update mapper...
ShapeOpt: Finished updating of mapper in 0.0334605 s.

ShapeOpt: Starting inverse mapping of DF1DX...
ShapeOpt: Finished mapping in 0.00146757 s.

ShapeOpt: Starting inverse mapping of DC1DX...
ShapeOpt: Finished mapping in 0.00100559 s.

ShapeOpt: Constraint is active. Modified search direction on the constraint hyperplane is computed...

ShapeOpt: Starting mapping of CONTROL_POINT_UPDATE...
ShapeOpt: Finished mapping in 0.00143131 s.
 
ShapeOpt: Current value of objective =   2.32040E+06 
ShapeOpt: Absolut change of objective =  -5.90297E+00  [%] 
ShapeOpt: Relative change of objective =  -1.17351E+00  [%]
 
ShapeOpt: Value of C1 =   2.73658E-02 
 
ShapeOpt: Time needed for current optimization step =  0.244 s 
ShapeOpt: Time needed for total optimization so far =  0.921 s 
 
=============================================================================== 
ShapeOpt: Tue May 19 09:18:47 2020 : Starting optimization iteration  5 
===============================================================================
 
 
ShapeOpt: Starting to update the mesh 
ShapeOpt: Time needed for updating the mesh =  0.0 s 
MassResponse: Starting primal analysis for response mass 
MassResponse: Time needed for calculating the response value =  0.0 s 
MassResponse: Starting gradient calculation for response mass 
FindNodalNeighboursProcess: please call separetely FindGlobalNodalNeighboursProcess 
        and FindGlobalNodalElementalNeighboursProcess. 
        The two calculations are currently independent,
            hence memory savings can be achieved
MassResponse: Time needed for calculating gradients 0.09 s 
ShapeOpt: Starting to update mapper...
ShapeOpt: Finished updating of mapper in 0.0391329 s.

ShapeOpt: Starting inverse mapping of DF1DX...
ShapeOpt: Finished mapping in 0.00162794 s.

ShapeOpt: Starting inverse mapping of DC1DX...
ShapeOpt: Finished mapping in 0.00148541 s.

ShapeOpt: Constraint is active. Modified search direction on the constraint hyperplane is computed...

ShapeOpt: Starting mapping of CONTROL_POINT_UPDATE...
ShapeOpt: Finished mapping in 0.00330126 s.
 
ShapeOpt: Current value of objective =   2.29501E+06 
ShapeOpt: Absolut change of objective =  -6.93248E+00  [%] 
ShapeOpt: Relative change of objective =  -1.02952E+00  [%]
 
ShapeOpt: Value of C1 =   2.40668E-03 
 
ShapeOpt: Time needed for current optimization step =  0.27 s 
ShapeOpt: Time needed for total optimization so far =  1.191 s 
 
=============================================================================== 
ShapeOpt: Tue May 19 09:18:48 2020 : Starting optimization iteration  6 
===============================================================================
 
 
ShapeOpt: Starting to update the mesh 
ShapeOpt: Time needed for updating the mesh =  0.0 s 
MassResponse: Starting primal analysis for response mass 
MassResponse: Time needed for calculating the response value =  0.0 s 
MassResponse: Starting gradient calculation for response mass 
FindNodalNeighboursProcess: please call separetely FindGlobalNodalNeighboursProcess 
        and FindGlobalNodalElementalNeighboursProcess. 
        The two calculations are currently independent,
            hence memory savings can be achieved
MassResponse: Time needed for calculating gradients 0.07 s 
ShapeOpt: Starting to update mapper...
ShapeOpt: Finished updating of mapper in 0.0390038 s.

ShapeOpt: Starting inverse mapping of DF1DX...
ShapeOpt: Finished mapping in 0.00212174 s.

ShapeOpt: Starting inverse mapping of DC1DX...
ShapeOpt: Finished mapping in 0.00170842 s.

ShapeOpt: Constraint is active. Modified search direction on the constraint hyperplane is computed...
ShapeOpt: Correction scaling needs to increase....

ShapeOpt: Starting mapping of CONTROL_POINT_UPDATE...
ShapeOpt: Finished mapping in 0.00240973 s.
 
ShapeOpt: Current value of objective =   2.27226E+06 
ShapeOpt: Absolut change of objective =  -7.85536E+00  [%] 
ShapeOpt: Relative change of objective =  -9.22878E-01  [%]
 
ShapeOpt: Value of C1 =   3.91666E-03 
 
ShapeOpt: Time needed for current optimization step =  0.247 s 
ShapeOpt: Time needed for total optimization so far =  1.439 s 
 
=============================================================================== 
ShapeOpt: Tue May 19 09:18:48 2020 : Starting optimization iteration  7 
===============================================================================
 
 
ShapeOpt: Starting to update the mesh 
ShapeOpt: Time needed for updating the mesh =  0.0 s 
MassResponse: Starting primal analysis for response mass 
MassResponse: Time needed for calculating the response value =  0.0 s 
MassResponse: Starting gradient calculation for response mass 
FindNodalNeighboursProcess: please call separetely FindGlobalNodalNeighboursProcess 
        and FindGlobalNodalElementalNeighboursProcess. 
        The two calculations are currently independent,
            hence memory savings can be achieved
MassResponse: Time needed for calculating gradients 0.1 s 
ShapeOpt: Starting to update mapper...
ShapeOpt: Finished updating of mapper in 0.0413795 s.

ShapeOpt: Starting inverse mapping of DF1DX...
ShapeOpt: Finished mapping in 0.00177589 s.

ShapeOpt: Starting inverse mapping of DC1DX...
ShapeOpt: Finished mapping in 0.00158422 s.

ShapeOpt: Constraint is active. Modified search direction on the constraint hyperplane is computed...
ShapeOpt: Correction scaling needs to increase....

ShapeOpt: Starting mapping of CONTROL_POINT_UPDATE...
ShapeOpt: Finished mapping in 0.00248694 s.
 
ShapeOpt: Current value of objective =   2.19828E+06 
ShapeOpt: Absolut change of objective =  -1.08552E+01  [%] 
ShapeOpt: Relative change of objective =  -2.99982E+00  [%]
 
ShapeOpt: Value of C1 =   1.29540E-01 
 
ShapeOpt: Time needed for current optimization step =  0.275 s 
ShapeOpt: Time needed for total optimization so far =  1.714 s 
 
=============================================================================== 
ShapeOpt: Tue May 19 09:18:48 2020 : Starting optimization iteration  8 
===============================================================================
 
 
ShapeOpt: Starting to update the mesh 
ShapeOpt: Time needed for updating the mesh =  0.0 s 
MassResponse: Starting primal analysis for response mass 
MassResponse: Time needed for calculating the response value =  0.0 s 
MassResponse: Starting gradient calculation for response mass 
FindNodalNeighboursProcess: please call separetely FindGlobalNodalNeighboursProcess 
        and FindGlobalNodalElementalNeighboursProcess. 
        The two calculations are currently independent,
            hence memory savings can be achieved
MassResponse: Time needed for calculating gradients 0.06 s 
ShapeOpt: Starting to update mapper...
ShapeOpt: Finished updating of mapper in 0.0378697 s.

ShapeOpt: Starting inverse mapping of DF1DX...
ShapeOpt: Finished mapping in 0.00159128 s.

ShapeOpt: Starting inverse mapping of DC1DX...
ShapeOpt: Finished mapping in 0.00110165 s.

ShapeOpt: Constraint is active. Modified search direction on the constraint hyperplane is computed...

ShapeOpt: Starting mapping of CONTROL_POINT_UPDATE...
ShapeOpt: Finished mapping in 0.00141845 s.
 
ShapeOpt: Current value of objective =   2.19653E+06 
ShapeOpt: Absolut change of objective =  -1.09262E+01  [%] 
ShapeOpt: Relative change of objective =  -7.10241E-02  [%]
 
ShapeOpt: Value of C1 =   2.76773E-02 
 
ShapeOpt: Time needed for current optimization step =  0.232 s 
ShapeOpt: Time needed for total optimization so far =  1.946 s 
 
ShapeOpt: Optimization problem converged within a relative objective tolerance of  0.1 %. 
 
=============================================================================== 
ShapeOpt: Finished optimization 
===============================================================================
 
