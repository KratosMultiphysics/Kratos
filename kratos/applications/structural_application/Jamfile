project StructuralApplication
    : 
    source-location
       .
       constitutive_laws
       custom_conditions
       custom_elements
       custom_processes
       custom_python
       custom_strategies
       custom_strategies/schemes
       custom_utilities
       external_includes
       custom_external_libraries/tensor-cpp
       fluency_criteria
       soft_hard_behavior
    :
    requirements <include>. 
		<define>KRATOS_PYTHON
		<link>shared
    ;


#################################################################################
#################################################################################
##definition of "dependencies for the project"
##lib intelomp  : : <name>guide <search>/opt/intel/cce/10.0.025/lib ;
#lib libgfortran 		: : <name>gfortran <search>/usr/lib ;
#lib libupcsoils : : <name>upcsoils <search>custom_external_libraries/upc_soil_model ;
#lib libupcrocks : : <name>upcrocks <search>custom_external_libraries/upc_rock_model ;
#################################################################################
#################################################################################
## list of files to be build, including dependencies to other libraries

alias sources_KratosStructuralApplication
   :  
	###################list of sources
	rigid_body_3D.cpp
	shell_anisotropic.cpp
	beam_element.cpp
	shell_anisotropic_linear.cpp
	shell_isotropic.cpp
	pointforce3D.cpp
	node_tying_lagrange.cpp   
	node_tying_lagrange_z.cpp
	pointforce2D.cpp
	linear_element.cpp
	Hypoelastic_element.cpp
	total_lagrangian.cpp
        mixed_lagrangian.cpp
	kinematic_linear.cpp
	unsaturated_soils_element_2phase.cpp
    unsaturated_soils_element_1phase_small_strain.cpp   
	unsaturated_soils_element_2phase_small_strain.cpp
	unsaturated_soils_element_3phase.cpp
	unsaturated_soils_element_3phase_small_strain.cpp	
#upc_test_element.cpp
	face2D.cpp 
	face3D.cpp 
        face_pressure3D.cpp
	faceforce3D.cpp
	hooks_law.cpp
	external_isotropic_3d.cpp
	drucker_prager_law.cpp
	isotropic_planestress_wrinkling.cpp
	structural_application.cpp 
        add_conditions_to_python.cpp
        add_custom_strategies_to_python.cpp 
	add_custom_utilities_to_python.cpp
	add_custom_io_to_python.cpp
	add_constitutive_laws_to_python.cpp 
	structural_python_application.cpp 
	isotropic_3d.cpp 
	hyperelastic_3d.cpp 
	hyperelastic_2d.cpp 
	von_mises_3d.cpp
#von_mises_3d_new.cpp
	membrane_element.cpp 
	isotropic_2d.cpp 
	plane_strain.cpp
	hypoelastic_2d.cpp
	fluid_2d.cpp
	external_isotropic_3d.cpp
	drucker_prager_law.cpp
	hooks_law.cpp
	drucker_prager.cpp 
	master_contact_face_3D.cpp 
	slave_contact_face_3D.cpp 
	contact_link_3D.cpp 
	contact_link_3D_kinematic_linear.cpp 
	master_contact_face_3D_newmark.cpp 
	slave_contact_face_3D_newmark.cpp 
	contact_link_3D_newmark.cpp 
#	isotropic_elastic_large_strain.cpp
	bossak_auxiliaries.cpp
#	tensor.cpp
	add_custom_parallel_strategies_to_python.cpp 
	crisfield_truss_element.cpp
	ebst.cpp
        ebst_vel.cpp
#	orthotropic_3d.cpp
        add_fluency_criteria_to_python.cpp
#       compose_material.cpp
#       plane_stress_damage_orthotropic_2d.cpp
#       tension_compression_damage_model.cpp
#        tension_compression_damage_model_2d.cpp
        energy_yield_function.cpp
        rankine_yield_function.cpp
        isotropic_rankine_yield_function.cpp
        tresca_yield_function.cpp
        von_mises_yield_function.cpp
        modified_mohr_coulomb_yield_function.cpp
        drucker_prager_yield_function.cpp
        exponencial_softening.cpp
        lineal_softening.cpp
         plasticity_2d.cpp
#        plasticity_3d.cpp
        plastic_damage_3d.cpp
        plastic_damage_2d.cpp
        mohr_coulomb_plane_strain.cpp
        plane_stress_J2.cpp
        isotropic_damage_2d.cpp
        isotropic_damage_3d.cpp

	#####################kratos library as defined in the jamroot
 #   	/kratos-prj/kratos//libkratos/<link>static
	/KratosProject//libkratos_static

	#####################"system" includes as defined in the jamroot
	/KratosProject//pythonlib
	/KratosProject//boost_python_lib
	/KratosProject//libomp
    ;

lib KratosStructuralApplicationStatic 
	: 
		sources_KratosStructuralApplication : <link>static
	;

import python ;
python-extension KratosStructuralApplication 
	: 
		sources_KratosStructuralApplication 
	;


#################################################################################
#################################################################################
## rules to install ... and to remove the prefix "lib"
install install : KratosStructuralApplicationStatic KratosStructuralApplication : <location>$(TOP)/libs ;
