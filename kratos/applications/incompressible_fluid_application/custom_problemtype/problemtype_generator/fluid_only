PROBLEMTYPE fluid_only	# The name of your problemtype
#DEFINITION FOLDER fluid_only_problemtype # The folder containing the definition file and the .bas templates
USE KRATOS DEFINITIONS # Use default definition for this problemtype...
USE PYTHON SCRIPTS fluid_only_scripts # ... but include my scripts from this folder

VECTOR CONDITION DISPLACEMENT 		point line surface volume fixed 0.0 0.0 0.0
VECTOR CONDITION VELOCITY     		point line surface volume fixed 0.0 0.0 0.0
VECTOR CONDITION MESH_VELOCITY     	point line surface volume free 0.0 0.0 0.0
VECTOR CONDITION BODY_FORCE     	point line surface volume free 0.0 0.0 0.0
SCALAR CONDITION PRESSURE     		point line surface volume free  0.0
SCALAR CONDITION AIR_PRESSURE     	point line surface volume free  0.0
SCALAR CONDITION WATER_PRESSURE     	point line surface volume free  0.0
SCALAR CONDITION EXTERNAL_PRESSURE     	point line surface volume free  0.0
SCALAR CONDITION VISCOSITY     		point line surface volume free  0.000001
SCALAR CONDITION DENSITY     		point line surface volume free  1.0
SCALAR CONDITION DENSITY_AIR     	point line surface volume free  1.0
SCALAR CONDITION POROSITY     		point line surface volume free  1.0

FLAG CONDITION IS_INTERFACE   		point line surface volume free 1.0
FLAG CONDITION FLAG_VARIABLE  		point line surface volume free 1.0 2.0 3.0 4.0 5.0
FLAG CONDITION IS_BOUNDARY    		point line surface volume free 1.0 2.0 3.0 4.0 5.0
FLAG CONDITION IS_SLIP    		point line surface volume free 1.0 0.0

FACE CONDITION Condition2D line
FACE CONDITION Condition3D surface 
FACE CONDITION Face2DNeumann line
FACE CONDITION Face3DNeumann surface 

#this line allows to put a value on the "faces" -- NOTE THAT WE CAN NOT USE THE SAME NAME FOR A "FACE CONDITION" and a "FLAG FACE VALUE"
FLAG FACE VALUE IS_STRUCTURE line surface 0.0 1.0

ELEMENT Fluid2D surface
ELEMENT Fluid3D volume 
ELEMENT Fluid2DCoupled surface
ELEMENT Fluid3DCoupled volume 
ELEMENT ASGS2D surface 
ELEMENT ASGS3D volume 
ELEMENT ASGSCompressible2D surface 

OPTION 2D_Boundary_Condition line Condition2D Face2DNeumann
OPTION 3D_Boundary_Condition surface Condition3D Face3DNeumann
OPTION 2D_Body_Element surface Fluid2D Fluid2DCoupled ASGS2D ASGSCompressible2D
OPTION 3D_Body_Element volume Fluid3D Fluid3DCoupled ASGS3D


PROPERTY Time_step 0.01 Dt
PROPERTY max_time 1.0 max_time
TEXT FLAG PROPERTY SolverType fractional_step pressure_splitting monolithic_solver_eulerian SolverType
PROPERTY laplacian_form 1 laplacian_form
PROPERTY output_step 1 output_step
PROPERTY predictor_corrector False predictor_corrector
PROPERTY max_press_its 3 max_press_its
PROPERTY use_oss 0 use_oss
PROPERTY dynamic_tau 1.0 dynamic_tau

DEFINE MODEL PART VelocityInlet point line surface LOWER
ADD CONDITION VELOCITY point line surface volume fixed 0.0 0.0 0.0

DEFINE MODEL PART SlipCondition point line surface LOWER
ADD 2D CONDITION IS_STRUCTURE line 1.0
ADD 3D CONDITION IS_STRUCTURE surface 1.0
# We need to assign Slip_Face twice to ensure tha it's ONLY applied over surfaces in 3D

DEFINE MODEL PART NoSlipCondition point line surface LOWER
ADD CONDITION VELOCITY point line surface volume fixed 0.0 0.0 0.0

DEFINE MODEL PART FixedPressureCondition point line surface LOWER
ADD CONDITION PRESSURE point line surface volume fixed 0.0

DEFINE BOUNDARY PART Boundary OUTWARDS NORMALS
ADD 2D ELEMENT 2D_Boundary_Condition
ADD 3D ELEMENT 3D_Boundary_Condition
ADD 2D CONDITION DISPLACEMENT  point line surface volume fixed 0.0 0.0 0.0
ADD 3D CONDITION DISPLACEMENT  point line surface volume fixed 0.0 0.0 0.0

DEFINE ALL ENTITIES PART Body surface volume
ADD 2D ELEMENT 2D_Body_Element surface
ADD 3D ELEMENT 3D_Body_Element volume

# Part Interaction --> considering all of the combinations!!!
GROUP NoSlipCondition SlipCondition IN point line surface
NoSlipCondition SlipCondition  ASSIGN VELOCITY FROM NoSlipCondition

GROUP VelocityInlet NoSlipCondition IN point line surface
VelocityInlet NoSlipCondition ASSIGN VELOCITY FROM VelocityInlet 

GROUP VelocityInlet SlipCondition IN point line surface
VelocityInlet SlipCondition ASSIGN VELOCITY FROM VelocityInlet 

GROUP VelocityInlet FixedPressureCondition IN point line surface
VelocityInlet FixedPressureCondition ASSIGN VELOCITY FROM VelocityInlet 
VelocityInlet FixedPressureCondition ASSIGN PRESSURE FROM FixedPressureCondition 

GROUP SlipCondition FixedPressureCondition IN point line surface
SlipCondition FixedPressureCondition ASSIGN PRESSURE FROM FixedPressureCondition 

GROUP NoSlipCondition FixedPressureCondition IN point line surface
NoSlipCondition FixedPressureCondition ASSIGN VELOCITY FROM NoSlipCondition 
NoSlipCondition FixedPressureCondition ASSIGN PRESSURE FROM FixedPressureCondition 








